import { test, expect } from '@playwright/test';

test('agregar un nuevo comercio', async ({ page }) => {
  await page.goto('http://localhost:3001/');
  await page.getByRole('link', { name: 'Registrarse' }).click();
  await page.getByText('游낅 Comercio').click();
  await page.getByRole('textbox', { name: 'Nombre *' }).click();
  await page.getByRole('textbox', { name: 'Nombre *' }).fill('gabriela');
  await page.getByRole('textbox', { name: 'Apellido *' }).click();
  await page.getByRole('textbox', { name: 'Apellido *' }).fill('mayta');
  await page.getByRole('textbox', { name: 'Email *' }).click();
  await page.getByRole('textbox', { name: 'Email *' }).fill('gabrielaa@gmail.com');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).click();
  await page.getByRole('textbox', { name: 'Email *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Email *' }).fill('gabrielaa@gmail.comT');
  await page.getByRole('textbox', { name: 'Email *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Email *' }).fill('gabrielaa@gmail.com');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).click();
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).click();
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).fill('T');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).fill('Test123!');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).click();
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).fill('T');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).fill('Test123!1');
  await page.getByRole('textbox', { name: 'Tel칠fono *' }).click();
  await page.getByRole('textbox', { name: 'Tel칠fono *' }).fill('1');
  await page.getByRole('textbox', { name: 'Tel칠fono *' }).click();
  await page.getByRole('textbox', { name: 'Tel칠fono *' }).fill('1232123233');
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).click();
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).fill('A');
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).fill('Almacen');
  await page.getByRole('combobox').click();
  await page.getByRole('option', { name: 'Almac칠n' }).click();
  await page.getByRole('textbox', { name: 'Direcci칩n del Local *' }).click();
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).click();
  await page.getByRole('textbox', { name: 'Nombre del Comercio *' }).fill('Almacen 1234');
  await page.getByRole('textbox', { name: 'Direcci칩n del Local *' }).click();
  await page.getByRole('textbox', { name: 'Direcci칩n del Local *' }).fill('ordo침ez 2324');
  await page.getByRole('textbox', { name: 'Descripci칩n del Comercio' }).click();
  await page.getByRole('textbox', { name: 'Descripci칩n del Comercio' }).fill('holaa');
  page.once('dialog', dialog => {
    console.log(`Dialog message: ${dialog.message()}`);
    dialog.dismiss().catch(() => {});
  });
  await page.getByRole('button', { name: 'Completar Registro' }).click();
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).dblclick();
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).fill('T');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Contrase침a *', exact: true }).fill('Test123!');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).dblclick();
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).fill('T');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).press('CapsLock');
  await page.getByRole('textbox', { name: 'Confirmar Contrase침a *' }).fill('Test123!');
  await page.getByRole('button', { name: 'Completar Registro' }).click();
  await page.getByRole('textbox', { name: 'Email' }).click();
  await page.goto('http://localhost:3001/');
  await expect(page.getByRole('heading', { name: 'Almacen 1234' })).toBeVisible();
});